{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/media/darcdev/Archivos/Usuario/1-ESTUDIO/UNIVERSIDAD/V SEMESTRE/INGENIERIA DE SOFTWARE I/Proyecto/implementaci\\xF3n/frontend/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/media/darcdev/Archivos/Usuario/1-ESTUDIO/UNIVERSIDAD/V SEMESTRE/INGENIERIA DE SOFTWARE I/Proyecto/implementaci\\xF3n/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/media/darcdev/Archivos/Usuario/1-ESTUDIO/UNIVERSIDAD/V SEMESTRE/INGENIERIA DE SOFTWARE I/Proyecto/implementaci\\xF3n/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/media/darcdev/Archivos/Usuario/1-ESTUDIO/UNIVERSIDAD/V SEMESTRE/INGENIERIA DE SOFTWARE I/Proyecto/implementaci\\xF3n/frontend/pages/historial.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"../components/Layout\";\nimport Agent from \"../components/Agent\";\nimport getConfig from \"next/config\";\n\nvar _getConfig = getConfig(),\n    publicConfig = _getConfig.publicRuntimeConfig;\n\nvar History = function History() {\n  _s();\n\n  var _useState = useState([]),\n      agents = _useState[0],\n      setAgents = _useState[1];\n\n  var _useState2 = useState([]),\n      filterAgents = _useState2[0],\n      setFilterAgents = _useState2[1];\n\n  var _useState3 = useState([]),\n      notFound = _useState3[0],\n      setNotFound = _useState3[1];\n\n  useEffect(function () {\n    function fetchAgents() {\n      return _fetchAgents.apply(this, arguments);\n    }\n\n    function _fetchAgents() {\n      _fetchAgents = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$axios$get, savedAgents;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(JSON.parse(localStorage.getItem(\"metrictimeUser\")).id);\n                _context.next = 3;\n                return axios.get(\"\".concat(publicConfig.api_url, \"/api/history/agents/\").concat(JSON.parse(localStorage.getItem(\"metrictimeUser\")).id));\n\n              case 3:\n                _yield$axios$get = _context.sent;\n                savedAgents = _yield$axios$get.data;\n                setAgents([].concat(_toConsumableArray(savedAgents), _toConsumableArray(agents)));\n                setFilterAgents(_toConsumableArray(savedAgents));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchAgents.apply(this, arguments);\n    }\n\n    fetchAgents();\n  }, []);\n\n  var handleSearchAgent = function handleSearchAgent(evt) {\n    var filterAgts = agents.filter(function (agent) {\n      return agent.name.toLowerCase().includes(evt.target.value.toLowerCase()) || String(agent.pid).includes(evt.target.value) || agent.hostname.toLowerCase().includes(evt.target.value.toLowerCase());\n    });\n    setFilterAgents(_toConsumableArray(filterAgts));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      title: \"Historial\",\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-6xl mx-auto py-6 sm:px-6 lg:px-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 mb-8 flex justify-center\\t\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-mono font-bold text-xl sm:text-2xl\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-8 inline-block text-blue-600 \\t \",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, _this), \" \", \"Historial de Agentes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:px-2 py-6 sm:px-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-6/12 mx-auto mb-10 \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white flex items-center rounded-full shadow-xl\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"placeholder-gray-600 sm:text-sm md:text-lg rounded-l-full w-full pt-4 px-6 text-gray-900 leading-tight focus:outline-none\",\n                  id: \"search\",\n                  type: \"text\",\n                  placeholder: \"Buscar agente por nombre\",\n                  onChange: handleSearchAgent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-blue-500 text-white rounded-full p-2 hover:bg-blue-400 focus:outline-none w-8 h-8 sm:h-8 sm:w-8 md:h-10 md:w-10 lg:h-12 lg:w-12 xl:h-12 xl:w-12 flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      alt: \"not found icon\",\n                      src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIKdmlld0JveD0iMCAwIDE3MiAxNzIiCnN0eWxlPSIgZmlsbDojMDAwMDAwOyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub25lIiBmb250LXNpemU9Im5vbmUiIHRleHQtYW5jaG9yPSJub25lIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTAsMTcydi0xNzJoMTcydjE3MnoiIGZpbGw9Im5vbmUiPjwvcGF0aD48ZyBmaWxsPSIjZmZmZmZmIj48cGF0aCBkPSJNNzIuMjQsMTAuMzJjLTMyLjMzMDYyLDAgLTU4LjQ4LDI2LjE0OTM4IC01OC40OCw1OC40OGMwLDMyLjMzMDYzIDI2LjE0OTM4LDU4LjQ4IDU4LjQ4LDU4LjQ4YzExLjU0MjgxLDAgMjIuMjI1NjMsLTMuMzg2MjUgMzEuMjgyNSwtOS4xMzc1bDQyLjI0NzUsNDIuMjQ3NWwxNC42MiwtMTQuNjJsLTQxLjcxLC00MS42MDI1YzcuNDk4MTMsLTkuODM2MjUgMTIuMDQsLTIyLjAyNDA2IDEyLjA0LC0zNS4zNjc1YzAsLTMyLjMzMDYyIC0yNi4xNDkzNywtNTguNDggLTU4LjQ4LC01OC40OHpNNzIuMjQsMjQuMDhjMjQuNzY1MzEsMCA0NC43MiwxOS45NTQ2OSA0NC43Miw0NC43MmMwLDI0Ljc2NTMxIC0xOS45NTQ2OSw0NC43MiAtNDQuNzIsNDQuNzJjLTI0Ljc2NTMxLDAgLTQ0LjcyLC0xOS45NTQ2OSAtNDQuNzIsLTQ0LjcyYzAsLTI0Ljc2NTMxIDE5Ljk1NDY5LC00NC43MiA0NC43MiwtNDQuNzJ6Ij48L3BhdGg+PC9nPjwvZz48L3N2Zz4=\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-4 border-dashed border-gray-200 h-auto rounded-lg h-96 p-4\\t\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-5 gap-x-2 grid-flow-row auto-rows-max \",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-span-5\",\n                  children: agents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-20 w-full flex flex-col items-center justify-center\\t\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      alt: \"no se encuentra icono\",\n                      className: \"w-28\",\n                      src: \"https://img.icons8.com/color/96/000000/time-machine--v1.png\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"mt-6 font-bold\\ttext-lg\",\n                      children: \"No tienes agentes en el historial\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"mt-6 font-bold\\ttext-lg\\t\",\n                      children: \"Envia Metricas desde un dispositivo electronico\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 23\n                  }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: filterAgents.length !== 0 ? filterAgents.map(function (agent) {\n                      return /*#__PURE__*/_jsxDEV(Agent, {\n                        uuid: agent.uuid\n                      }, agent.uuid, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 106,\n                        columnNumber: 36\n                      }, _this);\n                    }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-20 w-full flex flex-col items-center justify-center\\t\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        alt: \"no hay elementos icono\",\n                        className: \"w-20\",\n                        src: \"https://img.icons8.com/color/48/000000/nothing-found.png\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"mt-6 font-bold\\ttext-lg\",\n                        children: \"No se encontraron agentes asociados con la busqueda\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"mt-6 font-bold\\ttext-lg\",\n                        children: \"Intenta de nuevo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 29\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(History, \"8lqEdePOBVBi8h8VWKayydD6i5c=\");\n\n_c = History;\nexport default History;\n\nvar _c;\n\n$RefreshReg$(_c, \"History\");","map":{"version":3,"sources":["/media/darcdev/Archivos/Usuario/1-ESTUDIO/UNIVERSIDAD/V SEMESTRE/INGENIERIA DE SOFTWARE I/Proyecto/implementaciÃ³n/frontend/pages/historial.js"],"names":["useState","useEffect","axios","Layout","Agent","getConfig","publicConfig","publicRuntimeConfig","History","agents","setAgents","filterAgents","setFilterAgents","notFound","setNotFound","fetchAgents","console","log","JSON","parse","localStorage","getItem","id","get","api_url","savedAgents","data","handleSearchAgent","evt","filterAgts","filter","agent","name","toLowerCase","includes","target","value","String","pid","hostname","length","map","uuid"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"../components/Layout\";\nimport Agent from \"../components/Agent\";\nimport getConfig from \"next/config\";\n\nconst { publicRuntimeConfig: publicConfig } = getConfig();\n\nconst History = () => {\n  const [agents, setAgents] = useState([]);\n  const [filterAgents, setFilterAgents] = useState([]);\n  const [notFound, setNotFound] = useState([]);\n\n  useEffect(() => {\n    async function fetchAgents() {\n      console.log(JSON.parse(localStorage.getItem(\"metrictimeUser\")).id);\n      const { data: savedAgents } = await axios.get(\n        `${publicConfig.api_url}/api/history/agents/${\n          JSON.parse(localStorage.getItem(\"metrictimeUser\")).id\n        }`\n      );\n      setAgents([...savedAgents, ...agents]);\n      setFilterAgents([...savedAgents]);\n    }\n\n    fetchAgents();\n  }, []);\n\n  const handleSearchAgent = (evt) => {\n    const filterAgts = agents.filter((agent) => {\n      return (\n        agent.name.toLowerCase().includes(evt.target.value.toLowerCase()) ||\n        String(agent.pid).includes(evt.target.value) ||\n        agent.hostname.toLowerCase().includes(evt.target.value.toLowerCase())\n      );\n    });\n\n    setFilterAgents([...filterAgts]);\n  };\n  return (\n    <>\n      <Layout title=\"Historial\">\n        <main>\n          <div className=\"max-w-6xl mx-auto py-6 sm:px-6 lg:px-8\">\n            <div className=\"mt-6 mb-8 flex justify-center\t\">\n              <h2 className=\"font-mono font-bold text-xl sm:text-2xl\">\n                <svg\n                  className=\"w-8 inline-block text-blue-600 \t \"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>{\" \"}\n                Historial de Agentes\n              </h2>\n            </div>\n            <div className=\"sm:px-2 py-6 sm:px-0\">\n              <div className=\"md:w-6/12 mx-auto mb-10 \">\n                <div className=\"bg-white flex items-center rounded-full shadow-xl\">\n                  <input\n                    className=\"placeholder-gray-600 sm:text-sm md:text-lg rounded-l-full w-full pt-4 px-6 text-gray-900 leading-tight focus:outline-none\"\n                    id=\"search\"\n                    type=\"text\"\n                    placeholder=\"Buscar agente por nombre\"\n                    onChange={handleSearchAgent}\n                  />\n\n                  <div className=\"p-4\">\n                    <button className=\"bg-blue-500 text-white rounded-full p-2 hover:bg-blue-400 focus:outline-none w-8 h-8 sm:h-8 sm:w-8 md:h-10 md:w-10 lg:h-12 lg:w-12 xl:h-12 xl:w-12 flex items-center justify-center\">\n                      <img\n                        alt=\"not found icon\"\n                        src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIKdmlld0JveD0iMCAwIDE3MiAxNzIiCnN0eWxlPSIgZmlsbDojMDAwMDAwOyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub25lIiBmb250LXNpemU9Im5vbmUiIHRleHQtYW5jaG9yPSJub25lIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTAsMTcydi0xNzJoMTcydjE3MnoiIGZpbGw9Im5vbmUiPjwvcGF0aD48ZyBmaWxsPSIjZmZmZmZmIj48cGF0aCBkPSJNNzIuMjQsMTAuMzJjLTMyLjMzMDYyLDAgLTU4LjQ4LDI2LjE0OTM4IC01OC40OCw1OC40OGMwLDMyLjMzMDYzIDI2LjE0OTM4LDU4LjQ4IDU4LjQ4LDU4LjQ4YzExLjU0MjgxLDAgMjIuMjI1NjMsLTMuMzg2MjUgMzEuMjgyNSwtOS4xMzc1bDQyLjI0NzUsNDIuMjQ3NWwxNC42MiwtMTQuNjJsLTQxLjcxLC00MS42MDI1YzcuNDk4MTMsLTkuODM2MjUgMTIuMDQsLTIyLjAyNDA2IDEyLjA0LC0zNS4zNjc1YzAsLTMyLjMzMDYyIC0yNi4xNDkzNywtNTguNDggLTU4LjQ4LC01OC40OHpNNzIuMjQsMjQuMDhjMjQuNzY1MzEsMCA0NC43MiwxOS45NTQ2OSA0NC43Miw0NC43MmMwLDI0Ljc2NTMxIC0xOS45NTQ2OSw0NC43MiAtNDQuNzIsNDQuNzJjLTI0Ljc2NTMxLDAgLTQ0LjcyLC0xOS45NTQ2OSAtNDQuNzIsLTQ0LjcyYzAsLTI0Ljc2NTMxIDE5Ljk1NDY5LC00NC43MiA0NC43MiwtNDQuNzJ6Ij48L3BhdGg+PC9nPjwvZz48L3N2Zz4=\"\n                      />\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div className=\"border-4 border-dashed border-gray-200 h-auto rounded-lg h-96 p-4\t\">\n                <div className=\"grid grid-cols-5 gap-x-2 grid-flow-row auto-rows-max \">\n                  <div className=\"col-span-5\">\n                    {agents.length === 0 ? (\n                      <div className=\"p-20 w-full flex flex-col items-center justify-center\t\">\n                        <img\n                          alt=\"no se encuentra icono\"\n                          className=\"w-28\"\n                          src=\"https://img.icons8.com/color/96/000000/time-machine--v1.png\"\n                        />\n                        <h5 className=\"mt-6 font-bold\ttext-lg\">\n                          No tienes agentes en el historial\n                        </h5>\n                        <h5 className=\"mt-6 font-bold\ttext-lg\t\">\n                          Envia Metricas desde un dispositivo electronico\n                        </h5>\n                      </div>\n                    ) : (\n                      <>\n                        {filterAgents.length !== 0 ? (\n                          filterAgents.map((agent) => {\n                            return <Agent key={agent.uuid} uuid={agent.uuid} />;\n                          })\n                        ) : (\n                          <div className=\"p-20 w-full flex flex-col items-center justify-center\t\">\n                            <img\n                              alt=\"no hay elementos icono\"\n                              className=\"w-20\"\n                              src=\"https://img.icons8.com/color/48/000000/nothing-found.png\"\n                            />\n                            <h5 className=\"mt-6 font-bold\ttext-lg\">\n                              No se encontraron agentes asociados con la\n                              busqueda\n                            </h5>\n                            <h5 className=\"mt-6 font-bold\ttext-lg\">\n                              Intenta de nuevo\n                            </h5>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </main>\n      </Layout>\n    </>\n  );\n};\nexport default History;\n"]},"metadata":{},"sourceType":"module"}