{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"../components/Layout\";\nimport Agent from \"../components/Agent\";\nimport getConfig from \"next/config\";\nconst {\n  publicRuntimeConfig: publicConfig\n} = getConfig();\n\nconst History = () => {\n  const {\n    0: agents,\n    1: setAgents\n  } = useState([]);\n  const {\n    0: filterAgents,\n    1: setFilterAgents\n  } = useState([]);\n  const {\n    0: notFound,\n    1: setNotFound\n  } = useState([]);\n  useEffect(() => {\n    async function fetchAgents() {\n      const {\n        data: savedAgents\n      } = await axios.get(`${publicConfig.api_url}/api/history/agents/1`);\n      setAgents([...savedAgents, ...agents]);\n      setFilterAgents([...savedAgents]);\n    }\n\n    fetchAgents();\n  }, []);\n\n  const handleSearchAgent = evt => {\n    const filterAgts = agents.filter(agent => {\n      return agent.name.toLowerCase().includes(evt.target.value.toLowerCase()) || String(agent.pid).includes(evt.target.value) || agent.hostname.toLowerCase().includes(evt.target.value.toLowerCase());\n    });\n    console.log(filterAgts);\n    setFilterAgents([...filterAgts]);\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(Layout, {\n      title: \"Historial\",\n      children: /*#__PURE__*/_jsx(\"main\", {\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"max-w-6xl mx-auto py-6 sm:px-6 lg:px-8\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"mt-6 mb-8 flex justify-center\\t\",\n            children: /*#__PURE__*/_jsxs(\"h2\", {\n              className: \"font-mono font-bold text-xl sm:text-2xl\",\n              children: [/*#__PURE__*/_jsx(\"svg\", {\n                className: \"w-8 inline-block text-blue-600 \\t \",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsx(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                })\n              }), \" \", \"Historial de Agentes\"]\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"sm:px-2 py-6 sm:px-0\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"md:w-6/12 mx-auto mb-10 \",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"bg-white flex items-center rounded-full shadow-xl\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  className: \"placeholder-gray-600 sm:text-sm md:text-lg rounded-l-full w-full pt-4 px-6 text-gray-900 leading-tight focus:outline-none\",\n                  id: \"search\",\n                  type: \"text\",\n                  placeholder: \"Buscar agente por nombre\",\n                  onChange: handleSearchAgent\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"p-4\",\n                  children: /*#__PURE__*/_jsx(\"button\", {\n                    className: \"bg-blue-500 text-white rounded-full p-2 hover:bg-blue-400 focus:outline-none w-8 h-8 sm:h-8 sm:w-8 md:h-10 md:w-10 lg:h-12 lg:w-12 xl:h-12 xl:w-12 flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      alt: \"not found icon\",\n                      src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIKdmlld0JveD0iMCAwIDE3MiAxNzIiCnN0eWxlPSIgZmlsbDojMDAwMDAwOyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub25lIiBmb250LXNpemU9Im5vbmUiIHRleHQtYW5jaG9yPSJub25lIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTAsMTcydi0xNzJoMTcydjE3MnoiIGZpbGw9Im5vbmUiPjwvcGF0aD48ZyBmaWxsPSIjZmZmZmZmIj48cGF0aCBkPSJNNzIuMjQsMTAuMzJjLTMyLjMzMDYyLDAgLTU4LjQ4LDI2LjE0OTM4IC01OC40OCw1OC40OGMwLDMyLjMzMDYzIDI2LjE0OTM4LDU4LjQ4IDU4LjQ4LDU4LjQ4YzExLjU0MjgxLDAgMjIuMjI1NjMsLTMuMzg2MjUgMzEuMjgyNSwtOS4xMzc1bDQyLjI0NzUsNDIuMjQ3NWwxNC42MiwtMTQuNjJsLTQxLjcxLC00MS42MDI1YzcuNDk4MTMsLTkuODM2MjUgMTIuMDQsLTIyLjAyNDA2IDEyLjA0LC0zNS4zNjc1YzAsLTMyLjMzMDYyIC0yNi4xNDkzNywtNTguNDggLTU4LjQ4LC01OC40OHpNNzIuMjQsMjQuMDhjMjQuNzY1MzEsMCA0NC43MiwxOS45NTQ2OSA0NC43Miw0NC43MmMwLDI0Ljc2NTMxIC0xOS45NTQ2OSw0NC43MiAtNDQuNzIsNDQuNzJjLTI0Ljc2NTMxLDAgLTQ0LjcyLC0xOS45NTQ2OSAtNDQuNzIsLTQ0LjcyYzAsLTI0Ljc2NTMxIDE5Ljk1NDY5LC00NC43MiA0NC43MiwtNDQuNzJ6Ij48L3BhdGg+PC9nPjwvZz48L3N2Zz4=\"\n                    })\n                  })\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"border-4 border-dashed border-gray-200 h-auto rounded-lg h-96 p-4\\t\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"grid grid-cols-5 gap-x-2 grid-flow-row auto-rows-max \",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-span-5\",\n                  children: agents.length === 0 ? /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"p-20 w-full flex flex-col items-center justify-center\\t\",\n                    children: [/*#__PURE__*/_jsx(\"img\", {\n                      alt: \"no se encuentra icono\",\n                      className: \"w-28\",\n                      src: \"https://img.icons8.com/color/96/000000/time-machine--v1.png\"\n                    }), /*#__PURE__*/_jsx(\"h5\", {\n                      className: \"mt-6 font-bold\\ttext-lg\",\n                      children: \"No tienes agentes en el historial\"\n                    }), /*#__PURE__*/_jsx(\"h5\", {\n                      className: \"mt-6 font-bold\\ttext-lg\\t\",\n                      children: \"Envia Metricas desde un dispositivo electronico\"\n                    })]\n                  }) : /*#__PURE__*/_jsx(_Fragment, {\n                    children: filterAgents.length !== 0 ? filterAgents.map(agent => {\n                      return /*#__PURE__*/_jsx(Agent, {\n                        uuid: agent.uuid\n                      }, agent.uuid);\n                    }) : /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"p-20 w-full flex flex-col items-center justify-center\\t\",\n                      children: [/*#__PURE__*/_jsx(\"img\", {\n                        alt: \"no hay elementos icono\",\n                        className: \"w-20\",\n                        src: \"https://img.icons8.com/color/48/000000/nothing-found.png\"\n                      }), /*#__PURE__*/_jsx(\"h5\", {\n                        className: \"mt-6 font-bold\\ttext-lg\",\n                        children: \"No se encontraron agentes asociados con la busqueda\"\n                      }), /*#__PURE__*/_jsx(\"h5\", {\n                        className: \"mt-6 font-bold\\ttext-lg\",\n                        children: \"Intenta de nuevo\"\n                      })]\n                    })\n                  })\n                })\n              })\n            })]\n          })]\n        })\n      })\n    })\n  });\n};\n\nexport default History;","map":null,"metadata":{},"sourceType":"module"}